# SQL Injection B√°sico

√â poss√≠vel detectar um SQLi visualizando a url do site alvo. Muitas vezes, colocando um caracter inesperado resulta em um erro de syntaxe no banco de dados do alvo, e se o mesmo n√£o tratar corretamente esse tipo de dado, o banco pode estar vulner√°vel √† um ataque de SQLi.

Por exemplo, a url abaixo espera que o `id` seja um valor `integer`.

> www.bancocn.com/cat.php/id=1

Quando alteramos o valor para um tipo que ele n√£o espera receber como o `'`, o banco n√£o sabe como lidar com esse tipo de dado e gera um erro na camada do cliente:

> www.bancocn.com/cat.pho/id='

Essa √© uma das formas mais b√°sicas de identificar uma vulnerabilidade SQLi, outras formas consistem no uso de ferramentas com `sqlmap` para serem encontradas.

> Nota üìé
>
> Um recurso interessante para identificar sites vulner√°veis a SQLi √© utilizando os Google Dorks, como por exemplo `inurl:".php?id="`.

## Union based

Podemos utilizar a keyword `UNION` para retornar dados de outras tabelas no banco de dados. Este tipo de ataque √© comumente chamado de **UNION based**.

> www.bancocn.com/cat.php?id=1 union select all

## SQLMap

SQLMap √© uma ferramenta utilizada para automatizar ataques de SQLi.

`sqlmap -u http://www.banconc.com/cat.php?id=3 --dbs --dbms=mysql`

O tipo de ataque acima ir√° gerar erros devido ao CloudFlare, para realizar um bypass nesse servi√ßo, precisamos adicionar um header no ataque a partir de um arquivo **.txt**.

`sqlmap -r header.txt --dbs --dbms=mysql`
